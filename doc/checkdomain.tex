\documentclass{book}
\usepackage{sstdef}
\title{checkdomain}
\begin{document}
\section{The \cmd{checkdomain} program}

\subsection{Interface}
\begin{code}%
  checkdomain \var{dom} ...
\end{code}
where \cvar{addr} is an email header name.

\cmd{checkdomain} reads email addresses from standard input,
and compares the domain portion with each \cvar{dom}
without regard to case.
If no \cvar{addr} appears, \cmd{checkdomain} uses the domain
part of the environment variable \cmd{\$RECIPIENT}
as \cvar{dom}.  If it finds a match, \cmd{checkdomain} exits 0.
Otherwise, \cmd{checkdomain} exits 100.

\cmd{checkdomain} reads addresses in the form output by 
\href{\cmd{822addr}}{822addr.html}.  Each address appears
as a null-terminated line with an introductory character.
A \cmd{+} character introduces a
delivery address, and a \cmd{(} character introduces a comment.
The introductory characters are not part of the address.
\cmd{checkdomain} compares its arguments only with delivery
addresses, and ignores comments.

If \cmd{checkdomain} finds an address matching \cvar{dom}, it exits 0.
Otherwise, \cmd{checkdomain} exits 100.
\end{document}
